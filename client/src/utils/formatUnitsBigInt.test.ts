import { formatUnitsBigInt } from './formatUnitsBigInt';

const testCases = [
  { expectedValue: '0', value: BigInt(0) },
  { expectedValue: '0', unit: 'ether', value: BigInt(0) },
  { expectedValue: '0', unit: 'gwei', value: BigInt(0) },
  { expectedValue: '0', unit: 'wei', value: BigInt(0) },
  { expectedValue: '0.000000000000000001', value: BigInt(10) ** BigInt(0) },
  { expectedValue: '0.000000000000000001', unit: 'ether', value: BigInt(10) ** BigInt(0) },
  { expectedValue: '0.000000001', unit: 'gwei', value: BigInt(10) ** BigInt(0) },
  { expectedValue: '1', unit: 'wei', value: BigInt(10) ** BigInt(0) },
  { expectedValue: '0.00000000000000001', value: BigInt(10) ** BigInt(1) },
  { expectedValue: '0.00000000000000001', unit: 'ether', value: BigInt(10) ** BigInt(1) },
  { expectedValue: '0.00000001', unit: 'gwei', value: BigInt(10) ** BigInt(1) },
  { expectedValue: '10', unit: 'wei', value: BigInt(10) ** BigInt(1) },
  { expectedValue: '0.0000000000000001', value: BigInt(10) ** BigInt(2) },
  { expectedValue: '0.0000000000000001', unit: 'ether', value: BigInt(10) ** BigInt(2) },
  { expectedValue: '0.0000001', unit: 'gwei', value: BigInt(10) ** BigInt(2) },
  { expectedValue: '100', unit: 'wei', value: BigInt(10) ** BigInt(2) },
  { expectedValue: '0.000000000000001', value: BigInt(10) ** BigInt(3) },
  { expectedValue: '0.000000000000001', unit: 'ether', value: BigInt(10) ** BigInt(3) },
  { expectedValue: '0.000001', unit: 'gwei', value: BigInt(10) ** BigInt(3) },
  { expectedValue: '1000', unit: 'wei', value: BigInt(10) ** BigInt(3) },
  { expectedValue: '0.00000000000001', value: BigInt(10) ** BigInt(4) },
  { expectedValue: '0.00000000000001', unit: 'ether', value: BigInt(10) ** BigInt(4) },
  { expectedValue: '0.00001', unit: 'gwei', value: BigInt(10) ** BigInt(4) },
  { expectedValue: '10000', unit: 'wei', value: BigInt(10) ** BigInt(4) },
  { expectedValue: '0.0000000000001', value: BigInt(10) ** BigInt(5) },
  { expectedValue: '0.0000000000001', unit: 'ether', value: BigInt(10) ** BigInt(5) },
  { expectedValue: '0.0001', unit: 'gwei', value: BigInt(10) ** BigInt(5) },
  { expectedValue: '100000', unit: 'wei', value: BigInt(10) ** BigInt(5) },
  { expectedValue: '0.000000000001', value: BigInt(10) ** BigInt(6) },
  { expectedValue: '0.000000000001', unit: 'ether', value: BigInt(10) ** BigInt(6) },
  { expectedValue: '0.001', unit: 'gwei', value: BigInt(10) ** BigInt(6) },
  { expectedValue: '1000000', unit: 'wei', value: BigInt(10) ** BigInt(6) },
  { expectedValue: '0.00000000001', value: BigInt(10) ** BigInt(7) },
  { expectedValue: '0.00000000001', unit: 'ether', value: BigInt(10) ** BigInt(7) },
  { expectedValue: '0.01', unit: 'gwei', value: BigInt(10) ** BigInt(7) },
  { expectedValue: '10000000', unit: 'wei', value: BigInt(10) ** BigInt(7) },
  { expectedValue: '0.0000000001', value: BigInt(10) ** BigInt(8) },
  { expectedValue: '0.0000000001', unit: 'ether', value: BigInt(10) ** BigInt(8) },
  { expectedValue: '0.1', unit: 'gwei', value: BigInt(10) ** BigInt(8) },
  { expectedValue: '100000000', unit: 'wei', value: BigInt(10) ** BigInt(8) },
  { expectedValue: '0.000000001', value: BigInt(10) ** BigInt(9) },
  { expectedValue: '0.000000001', unit: 'ether', value: BigInt(10) ** BigInt(9) },
  { expectedValue: '1', unit: 'gwei', value: BigInt(10) ** BigInt(9) },
  { expectedValue: '1000000000', unit: 'wei', value: BigInt(10) ** BigInt(9) },
  { expectedValue: '0.00000001', value: BigInt(10) ** BigInt(10) },
  { expectedValue: '0.00000001', unit: 'ether', value: BigInt(10) ** BigInt(10) },
  { expectedValue: '10', unit: 'gwei', value: BigInt(10) ** BigInt(10) },
  { expectedValue: '10000000000', unit: 'wei', value: BigInt(10) ** BigInt(10) },
  { expectedValue: '0.0000001', value: BigInt(10) ** BigInt(11) },
  { expectedValue: '0.0000001', unit: 'ether', value: BigInt(10) ** BigInt(11) },
  { expectedValue: '100', unit: 'gwei', value: BigInt(10) ** BigInt(11) },
  { expectedValue: '100000000000', unit: 'wei', value: BigInt(10) ** BigInt(11) },
  { expectedValue: '0.000001', value: BigInt(10) ** BigInt(12) },
  { expectedValue: '0.000001', unit: 'ether', value: BigInt(10) ** BigInt(12) },
  { expectedValue: '1000', unit: 'gwei', value: BigInt(10) ** BigInt(12) },
  { expectedValue: '1000000000000', unit: 'wei', value: BigInt(10) ** BigInt(12) },
  { expectedValue: '0.00001', value: BigInt(10) ** BigInt(13) },
  { expectedValue: '0.00001', unit: 'ether', value: BigInt(10) ** BigInt(13) },
  { expectedValue: '10000', unit: 'gwei', value: BigInt(10) ** BigInt(13) },
  { expectedValue: '10000000000000', unit: 'wei', value: BigInt(10) ** BigInt(13) },
  { expectedValue: '0.0001', value: BigInt(10) ** BigInt(14) },
  { expectedValue: '0.0001', unit: 'ether', value: BigInt(10) ** BigInt(14) },
  { expectedValue: '100000', unit: 'gwei', value: BigInt(10) ** BigInt(14) },
  { expectedValue: '100000000000000', unit: 'wei', value: BigInt(10) ** BigInt(14) },
  { expectedValue: '0.001', value: BigInt(10) ** BigInt(15) },
  { expectedValue: '0.001', unit: 'ether', value: BigInt(10) ** BigInt(15) },
  { expectedValue: '1000000', unit: 'gwei', value: BigInt(10) ** BigInt(15) },
  { expectedValue: '1000000000000000', unit: 'wei', value: BigInt(10) ** BigInt(15) },
  { expectedValue: '0.01', value: BigInt(10) ** BigInt(16) },
  { expectedValue: '0.01', unit: 'ether', value: BigInt(10) ** BigInt(16) },
  { expectedValue: '10000000', unit: 'gwei', value: BigInt(10) ** BigInt(16) },
  { expectedValue: '10000000000000000', unit: 'wei', value: BigInt(10) ** BigInt(16) },
  { expectedValue: '0.1', value: BigInt(10) ** BigInt(17) },
  { expectedValue: '0.1', unit: 'ether', value: BigInt(10) ** BigInt(17) },
  { expectedValue: '100000000', unit: 'gwei', value: BigInt(10) ** BigInt(17) },
  { expectedValue: '100000000000000000', unit: 'wei', value: BigInt(10) ** BigInt(17) },
  { expectedValue: '1', value: BigInt(10) ** BigInt(18) },
  { expectedValue: '1', unit: 'ether', value: BigInt(10) ** BigInt(18) },
  { expectedValue: '1000000000', unit: 'gwei', value: BigInt(10) ** BigInt(18) },
  { expectedValue: '1000000000000000000', unit: 'wei', value: BigInt(10) ** BigInt(18) },
  { expectedValue: '10', value: BigInt(10) ** BigInt(19) },
  { expectedValue: '10', unit: 'ether', value: BigInt(10) ** BigInt(19) },
  { expectedValue: '10000000000', unit: 'gwei', value: BigInt(10) ** BigInt(19) },
  { expectedValue: '10000000000000000000', unit: 'wei', value: BigInt(10) ** BigInt(19) },
  { expectedValue: '100', value: BigInt(10) ** BigInt(20) },
  { expectedValue: '100', unit: 'ether', value: BigInt(10) ** BigInt(20) },
  { expectedValue: '100000000000', unit: 'gwei', value: BigInt(10) ** BigInt(20) },
  { expectedValue: '100000000000000000000', unit: 'wei', value: BigInt(10) ** BigInt(20) },
  { expectedValue: '1000', value: BigInt(10) ** BigInt(21) },
  { expectedValue: '1000', unit: 'ether', value: BigInt(10) ** BigInt(21) },
  { expectedValue: '1000000000000', unit: 'gwei', value: BigInt(10) ** BigInt(21) },
  { expectedValue: '1000000000000000000000', unit: 'wei', value: BigInt(10) ** BigInt(21) },
  { expectedValue: '10000', value: BigInt(10) ** BigInt(22) },
  { expectedValue: '10000', unit: 'ether', value: BigInt(10) ** BigInt(22) },
  { expectedValue: '10000000000000', unit: 'gwei', value: BigInt(10) ** BigInt(22) },
  { expectedValue: '10000000000000000000000', unit: 'wei', value: BigInt(10) ** BigInt(22) },
  { expectedValue: '10000.000000000000000013', value: BigInt(10) ** BigInt(22) + BigInt(13) },
  {
    expectedValue: '10000.000000000000000013',
    unit: 'ether',
    value: BigInt(10) ** BigInt(22) + BigInt(13),
  },
  {
    expectedValue: '10000000000000.000000013',
    unit: 'gwei',
    value: BigInt(10) ** BigInt(22) + BigInt(13),
  },
  {
    expectedValue: '10000000000000000000013',
    unit: 'wei',
    value: BigInt(10) ** BigInt(22) + BigInt(13),
  },

  { expectedValue: '10000.000000000000001', value: BigInt(10) ** BigInt(22) + BigInt(1000) },
  {
    expectedValue: '10000.000000000000001',
    unit: 'ether',
    value: BigInt(10) ** BigInt(22) + BigInt(1000),
  },
  {
    expectedValue: '10000000000000.000001',
    unit: 'gwei',
    value: BigInt(10) ** BigInt(22) + BigInt(1000),
  },
  {
    expectedValue: '10000000000000000001000',
    unit: 'wei',
    value: BigInt(10) ** BigInt(22) + BigInt(1000),
  },
];

describe('formatUnitsBigInt', () => {
  for (const { value, unit, expectedValue } of testCases) {
    it(`returns ${expectedValue} for a value ${value.toString()} }`, () => {
      expect(formatUnitsBigInt(value, unit as any)).toBe(expectedValue);
    });
  }
});
